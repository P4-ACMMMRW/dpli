#include <TestingUtil.hpp>

using namespace dplgrammar;

AST_TEST("replace_with.dpl") {
    std::vector<size_t> expectedNodeRules = {
        DplParser::RuleProg,
        DplParser::RuleAssignstm,
        DplLexer::Identifier,
        DplParser::RuleTable,
        DplParser::RuleColumn,
        DplParser::RuleList,
        DplLexer::Integer,
        DplLexer::Integer,
        DplLexer::Integer,
        DplParser::RuleColumn,
        DplParser::RuleList,
        DplLexer::Integer,
        DplLexer::Integer,
        DplLexer::Integer,
        DplParser::RuleColumn,
        DplParser::RuleList,
        DplLexer::None,
        DplLexer::Integer,
        DplLexer::None,
        DplParser::RuleAssignstm,
        DplLexer::Identifier,
        DplParser::RuleUnaryexpr,
        DplParser::RuleHeaderindex,
        DplLexer::Identifier,
        DplLexer::String,
        DplLexer::None,
        DplParser::RuleAssignstm,
        DplParser::RuleHeaderindex,
        DplLexer::Identifier,
        DplLexer::String,
        DplParser::RuleMultexpr,
        DplParser::RuleHeaderindex,
        DplLexer::Identifier,
        DplLexer::String,
        DplParser::RuleHeaderindex,
        DplLexer::Identifier,
        DplLexer::String,
        DplParser::RuleAssignstm,
        DplLexer::Identifier,
        DplParser::RuleHeaderindex,
        DplParser::RuleUnaryexpr,
        DplParser::RuleHeaderindex,
        DplLexer::Identifier,
        DplLexer::String,
        DplLexer::None,
        DplLexer::String,
        DplParser::RuleProccall,
        DplLexer::Identifier,
        DplLexer::Identifier,
    };
    
    dplutil::TestingUtil::testAst("replace_with.dpl", expectedNodeRules);
}